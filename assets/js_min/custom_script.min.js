function removeGroup(a){jQuery.ajax({type:"GET",url:"/wp-admin/admin-ajax.php",data:{action:"remove_group",value:encodeURIComponent(a)},success:function(b){jQuery("#group-"+a).addClass("removed"),jQuery("#delete-"+a).attr("href","javascript: deleteGroup("+a+")"),jQuery("#restore-"+a).attr("style","display: inline")}})}function deleteGroup(a){jQuery.ajax({type:"GET",url:"/wp-admin/admin-ajax.php",data:{action:"delete_group",value:encodeURIComponent(a)},success:function(b){jQuery("#group-"+a).remove()}})}function restoreGroup(a){jQuery.ajax({type:"GET",url:"/wp-admin/admin-ajax.php",data:{action:"restore_group",value:encodeURIComponent(a)},success:function(b){jQuery("#group-"+a).removeClass("removed"),jQuery("#delete-"+a).attr("href",'javascript: removeGroup("'+a+'")'),jQuery("#restore-"+a).attr("style","display: none")}})}function videoEnded(){var a=jQuery("#video_count").val(),b=jQuery("#post_id").val(),c=jQuery("#user_id").val();jQuery.cookie("video_end","false"),jQuery(document).ready(function(d){d("#the_video_"+a+"_html5_api").on("ended",function(){"false"==jQuery.cookie("video_end")&&jQuery.cookie("video_end","true"),"true"==jQuery.cookie("video_end")&&jQuery.ajax({type:"GET",url:"/wp-admin/admin-ajax.php",data:{action:"hits_add",test_id:b,user_id:c},success:function(a){var b=jQuery.parseJSON(a);"success"==b.success?(jQuery.cookie("video_end","stop"),jQuery.cookie("test_access","true"),window.location=jQuery("#redirect_link").val()):console.log("success ",b)}})}),d("#the_video_"+a).on("ended",function(){"false"==jQuery.cookie("video_end")&&jQuery.cookie("video_end","true"),"true"==jQuery.cookie("video_end")&&jQuery.ajax({type:"GET",url:"/wp-admin/admin-ajax.php",data:{action:"hits_add",test_id:b,user_id:c},success:function(a){var b=jQuery.parseJSON(a);"success"==b.success?(jQuery.cookie("video_end","stop"),jQuery.cookie("test_access","true"),window.location=jQuery("#redirect_link").val()):console.log("success ",b)}})})})}function selectProduct(a,b,c){$=jQuery;var d=$("#productViews").val(),e=d*c;$("#productName").val(b),$("#productID").val(a),$("#priceContain").html(c),$("#subtotalContain").html(e.toFixed(2)),$("#autocomplete").fadeOut(),$("#autocomplete").html("")}function selectUser(a,b,c,d,e){console.log("id ",a),$=jQuery,$("#user_suggestions").fadeOut(),$("#user_suggestions").html(""),$("#order_user_login").val(b),$("#order_user_id").val(a),$("#email").html(c),$("#order_user_email").val(c),$("#first_name").html(d),$("#order_user_fname").val(d),$("#last_name").html(e),$("#order_user_lname").val(e)}function searchTest(a){jQuery.ajax({type:"GET",url:ajaxurl,data:{action:"search_tests",value:encodeURIComponent(a)},success:function(a){var b=jQuery.parseJSON(a);jQuery("#test_suggestions").html(""),jQuery("#test_suggestions").fadeIn(),jQuery.each(b,function(a,b){jQuery("#test_suggestions").append('<li><a href="javascript:addTest('+b.ID+", '"+b.post_title+"');\">"+b.post_title+"</a></li>")})}})}function addTest(a,b){var c=jQuery("#test_to_group").html(),d=c.replace(/{test_id}/g,a).replace(/{test_name}/g,b);jQuery("#selected_tests tbody").append(d),jQuery("#test_suggestions").fadeOut()}function removeTest(a){jQuery("#group_id").val()>0?jQuery.ajax({type:"GET",url:ajaxurl,data:{action:"remove_test",value:encodeURIComponent(a),group:encodeURIComponent(jQuery("#group_id").val())},success:function(b){var c=jQuery.parseJSON(b);"success"==c.result?jQuery("#selected_tests tbody").find("#tests-"+a).remove():alert("Error: Can't remove this Test!!!")}}):jQuery("#selected_tests tbody").find("#tests-"+a).remove()}function searchUser(a){jQuery.ajax({type:"GET",url:ajaxurl,data:{action:"search_users",value:encodeURIComponent(a)},success:function(a){var b=jQuery.parseJSON(a);jQuery("#user_suggestions").html(""),jQuery("#user_suggestions").fadeIn(),jQuery.each(b,function(a,b){jQuery("#user_suggestions").append('<li><a href="javascript:addUser('+b.ID+", '"+b.user_login+"');\">"+b.user_login+"</a></li>")})}})}function addUser(a,b){var c=jQuery("#user_to_group").html(),d=c.replace(/{user_id}/g,a).replace(/{username}/g,b);jQuery("#selected_users tbody").append(d),jQuery("#user_suggestions").fadeOut()}function removeUser(a){jQuery("#group_id").val()>0?jQuery.ajax({type:"GET",url:ajaxurl,data:{action:"remove_user",value:encodeURIComponent(a),group:encodeURIComponent(jQuery("#group_id").val())},success:function(b){var c=jQuery.parseJSON(b);"success"==c.result?jQuery("#selected_users tbody").find("#users-"+a).remove():alert("This User is owner this Group!!!")}}):jQuery("#selected_users tbody").find("#users-"+a).remove()}function searchCourses(a){jQuery.ajax({type:"GET",url:ajaxurl,data:{action:"search_courses",value:encodeURIComponent(a)},success:function(a){var b=jQuery.parseJSON(a);jQuery("#courses_suggestions").html(""),jQuery("#courses_suggestions").fadeIn(),jQuery.each(b,function(a,b){jQuery("#courses_suggestions").append('<li><a href="javascript:addCourse('+b.ID+", '"+b.post_title+"');\">"+b.post_title+"</a></li>")})}})}function addCourse(a,b){var c=jQuery("#course_to_group").html(),d=c.replace(/{courseid}/g,a).replace(/{course-name}/g,b);jQuery("#selected_courses tbody").append(d),jQuery("#courses_suggestions").fadeOut()}function removeCourse(a){jQuery("#group_id").val()>0?jQuery.ajax({type:"GET",url:ajaxurl,data:{action:"remove_courses",value:encodeURIComponent(a),group:encodeURIComponent(jQuery("#group_id").val())},success:function(b){var c=jQuery.parseJSON(b);"success"==c.result?jQuery("#selected_courses tbody").find("#courses-"+a).remove():alert("Error: Can't remove this course!!!")}}):jQuery("#selected_courses tbody").find("#courses-"+a).remove()}function removeGroup(a){jQuery.ajax({type:"GET",url:ajaxurl,data:{action:"remove_group",value:encodeURIComponent(a)},success:function(b){jQuery("#group-"+a).addClass("removed"),jQuery("#delete-"+a).attr("href",'javascript: deleteGroup("'+a+'")'),jQuery("#restore-"+a).attr("style","display: inline")}})}function deleteGroup(a){jQuery.ajax({type:"GET",url:ajaxurl,data:{action:"delete_group",value:encodeURIComponent(a)},success:function(b){jQuery("#group-"+a).remove()}})}function restoreGroup(a){jQuery.ajax({type:"GET",url:ajaxurl,data:{action:"restore_group",value:encodeURIComponent(a)},success:function(b){jQuery("#group-"+a).removeClass("removed"),jQuery("#delete-"+a).attr("href",'javascript:removeGroup("'+a+'")'),jQuery("#restore-"+a).attr("style","display: none")}})}function addGroup(a,b){var c=jQuery("#group_add").html(),d=c.replace(/{group_id}/g,a).replace(/{groupname}/g,b);jQuery("#selected_groups tbody").append(d),jQuery("#group_suggestions").fadeOut()}function delGroup(a){jQuery("#selected_groups tbody").find("#groups-"+a).remove()}videoEnded(),function(a){a(document).ready(function(){var b={_construct:function(){ajaxurl="/wp-admin/admin-ajax.php"},tab_content:function(){a("#interaction_tabs .parent .parent_link").click(function(b){b.preventDefault(),a(".testing_tab").hide();var c=a(this).attr("href");a(c).show(),a(".video-follow").hide(),a(c+" .video-follow-1").show(),a(this).parent().prev("li").find("ul").addClass("partsHidden"),a("#interaction_tabs li ul").addClass("partsHidden"),a(this).parent().find("ul").removeClass("partsHidden"),a(this).parent().find("ul").removeClass("not-active"),a(this).parent().find("ul li:nth-child(1)").removeClass("not-active"),a(this).parent().find("ul li:nth-child(1) a").removeClass("not-active"),a(".vjs-playing").click()})},next_step:function(){a(".processed_next").click(function(b){b.preventDefault(),a(".testing_tab").hide();var c=a(this).attr("href"),d=a(this).data("step");a(c).show(),a(".video-follow").hide(),a(c+" .video-follow-1").show(),a("#interaction_"+d+" .quest-part").show(),a("#interaction_tabs .parent ul").addClass("partsHidden"),a("#interaction_tabs .step-"+d+" ul").removeClass("partsHidden")})},child_tabs:function(){a("#interaction_tabs .parent ul li a").click(function(b){b.preventDefault();var c=a(this).attr("href"),d=a(this).data("step");a(".tab_lesson").hide(),a("#step_"+d).show(),a(".video-follow").hide(),a("."+c).show(),a(".vjs-playing").click()})},sendAnswers:function(){a(".submit_step").click(function(b){b.preventDefault();var c=a(this).data("step"),d=a("#step_check_"+c+" .answers li input:checked").serializeArray();a.ajax({type:"POST",url:ajaxurl,data:{action:"lms_steps_result",ans:d,test_id:a("#course_id").val(),step:c},success:function(b){var d=JSON.parse(b);if(0==d.count){var e=c+1;a(".step-"+e).removeClass("not-active"),a(".step-"+e+" .parent_link").removeClass("not-active"),a('#interaction_tabs [href="#interaction_'+c+'"]').removeClass("not-active"),a('#interaction_tabs [href="#interaction_'+c+'"]').parent().removeClass("not-active"),a(".step-"+c).next().find(".parent_link").removeClass("no-check"),a(".step-"+c).next().find(".parent_link").addClass("check"),a(".step-"+e+" .parent_link").removeClass("no-check"),a(".step-"+e+" .parent_link").addClass("check"),a(".step-"+e+" ul").removeClass("not-active"),a(".step-"+e+" ul li:nth-child(1)").removeClass("not-active"),a(".step-"+e+" ul li:nth-child(1) a").removeClass("not-active"),a(".step-"+e+" ul li:nth-child(1) a").removeClass("no-check"),a(".step-"+e+" ul li:nth-child(1) a").addClass("check"),a(".step-"+c+" ul li.interaction_link a").removeClass("no-check"),a(".step-"+c+" ul li.interaction_link a").addClass("check"),a("#interaction_"+c+" .test_passed").hide(),a("#interaction_"+c+" .test_passed_"+c).show(),a(".bar-step-"+c+"i").css("background","rgba(100, 255, 100, 0.5)"),a("#step_check_"+c).hide(),a("#interaction_"+c+" .test_fail").hide(),a(".passed_message").show(),a(".quest-part").hide()}else{a(".quest-part").hide();var f=""+d.count+" "+(d.count>1?"errors!":"error!"),g=d.error,h=d.review;a.each(d.error,function(a,b){}),a('#interaction_tabs [href="#interaction_'+c+'"]').addClass("not-active"),a('#interaction_tabs [href="#interaction_'+c+'"]').parent().addClass("not-active"),a("#interaction_tabs .step-"+c+" a").addClass("try_again"),a("#interaction_"+c+" .error_count_"+c).html(f),a("#interaction_"+c+" .retake_questions_"+c).attr("href",g),a("#interaction_"+c+" .review_train_"+c).attr("href",h),a("#interaction_"+c+" .test_fail").show(),a(".submit_step").hide()}a("#step_check_"+c)[0].reset(),a(".step_result_"+c).show()}})})},imgAnswer:function(){a(".img-answer-cover").click(function(b){b.preventDefault(),a(this).parent().parent().find(".answer-check").prop("checked",!1),a(this).next().find(".answer-check").prop("checked",!0)})},retake_quick:function(){a(".retake_questions").live("click",function(b){b.preventDefault();var c=a(this).attr("href").split(",");a.each(c,function(b,c){a(".quest-"+c).show()}),a(".submit_step").show(),a(".test_fail").hide()})},review_quick:function(){a(".review_train").live("click",function(b){b.preventDefault();var c=a(this).attr("href").split(","),d=a(this).data("step");a(".testing_tab").hide(),a("#step_"+d).show(),a("#step_menu_"+d+" ul").removeClass("partsHidden"),a("#step_"+d+" .v_part-"+c[0]).show(),a(".submit_step").show(),a("#interaction_"+d+" .quest-part").show(),a(".test_fail").hide()})},try_again:function(){a(".try_again").live("click",function(b){if(b.preventDefault(),a(this).parent().hasClass("parent")){a(this).removeClass("try_again");var c=a(this).data("step"),d=a("#step_check_"+c)}else var d=a(this).attr("href"),c=a(this).data("step");a(".step_result_"+c).hide(),a("#interaction_"+c).hide(),a("#step_"+c).show(),a("#interaction_"+c+" .quest-part").show(),a(".step-"+c+" ul").removeClass("partsHidden"),a(".step-"+c+" ul li").addClass("not-active"),a(".step-"+c+" ul li a").addClass("not-active"),a(".step-"+c+" ul li a").removeClass("check"),a(".step-"+c+" ul li a").addClass("no-check"),a(".step-"+c+" ul li:nth-child(1)").removeClass("not-active"),a(".step-"+c+" ul li:nth-child(1) a").removeClass("not-active"),a(".step-"+c+" ul li:nth-child(1) a").removeClass("no-check"),a(".step-"+c+" ul li:nth-child(1) a").addClass("check"),a("#step_"+c+" .video-follow-1").show(),a(d).show(),a(".submit_step").show()}),a(".show-form").live("click",function(b){b.preventDefault(),a(".passed_message").hide(),a(".test_passed").hide();var c=a(this).data("step");a("#interaction_"+c+" .quest-part").show(),a("#step_check_"+c)[0].reset(),a("#step_check_"+c).show()})},review_interaction:function(){a(".review_test").live("click",function(b){b.preventDefault();var c=a(this).data("test"),d=a(this).data("user");a.ajax({type:"POST",url:ajaxurl,data:{action:"lms_steps_result",test_id:c,user_id:d},success:function(a){location.reload()}})})},hamburger:function(){a(document).on("click","#show_nav_ineractive",function(){a("#interaction_tabs").hasClass("side-fade")?(a("#interaction_tabs").hide(),a("#interaction_tabs").removeClass("side-fade"),a(this).removeClass("bordered")):(a("#interaction_tabs").show(),a("#interaction_tabs").addClass("side-fade"),a(this).addClass("bordered"))})},init:function(){b._construct(),b.next_step(),b.tab_content(),b.child_tabs(),b.sendAnswers(),b.try_again(),b.imgAnswer(),b.review_interaction(),b.retake_quick(),b.review_quick(),b.hamburger()}};b.init()})}(jQuery),function(a){a(document).ready(function(){var b={ajaxUrl:"/wp-admin/admin-ajax.php",addToCart:function(){a(".addToCart").on("click",function(c){c.preventDefault();var d=a(this).data("product_id"),e=a("#lms_test_views-"+d).val();a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"add_to_cart",product_id:d,views:e},success:function(c){b.getCartItems(),a("#succeses_add_to_cart").show(),a("#succeses_add_to_cart").dialog({autoOpen:!1,modal:!0,dialogClass:"succeses_add_to_cart fixed",title:"Course succses added to Cart",position:{my:"center"},width:400,close:function(a,b){},show:{effect:"blind",duration:1e3},hide:{effect:"explode",duration:1e3}}),a("#succeses_add_to_cart").dialog("open")}})})},getCartItems:function(){if("/checkout/"==window.location.pathname)return!1;if("/cart/"==window.location.pathname)return!1;if(a("#cart-icon").hasClass("active"))var c="active";else var c=null;a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"get_cart_items",active:c},success:function(b){a("body").find("#_lms_cartWrapper").length>0?a("#_lms_cartWrapper").replaceWith(b):a("body").append(b)}})},deleteCartItem:function(){a(document).on("click",".delete_item",function(){var c=a(this).data("product_id");a(this).parent().remove(),a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"delete_cart_item",product_id:c},success:function(b){var c=a.parseJSON(b);0==c.items&&(a(".cart-totals").before("<h2>Your Cart is empty</h2>"),a("#checkout").remove()),a(".cart-totals .product_price").html("$ "+c.success)}})})},showCart:function(){a("#cart-icon").live("click",function(){a(this).toggleClass("active"),a(".lms_cart").toggleClass("active")})},init:function(){b.addToCart(),b.getCartItems(),b.showCart(),b.deleteCartItem()}};b.init()})}(jQuery),function(a){var b={ajaxUrl:"/wp-admin/admin-ajax.php",checkoutTabs:function(){a(".checkout_tabs h1 i").on("click",function(){a(this).parent().hasClass("active")?(a(this).removeClass("fa-caret-square-o-up").addClass("fa-caret-square-o-down"),a(this).parent().removeClass("active"),a(this).parent().next().slideToggle("slow")):(a(this).removeClass("fa-caret-square-o-down").addClass("fa-caret-square-o-up"),a(this).parent().addClass("active"),a(this).parent().next().slideToggle("slow"))})},updatePrice:function(){a(".checkout_views").on("change",function(){var c=a(this).data("product_id"),d=a(this).val();a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"update_cart",product_id:c,views:d},success:function(b){var d=a.parseJSON(b);a("#price-"+c).html("$ "+d.price),a("#lms_total").html("$ "+d.total)}})}),a(".checkout_views").on("click",function(){var c=a(this).data("product_id"),d=a(this).val();a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"update_cart",product_id:c,views:d},success:function(b){var d=a.parseJSON(b);a("#price-"+c).html("$ "+d.price),a("#lms_total").html("$ "+d.total)}})}),a(".checkout_views").on("keyup",function(){var c=a(this).data("product_id"),d=a(this).val();a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"update_cart",product_id:c,views:d},success:function(b){var d=a.parseJSON(b);a("#price-"+c).html("$ "+d.price),a("#lms_total").html("$ "+d.total)}})})},checkoutAjaxRegistrantion:function(){a(".checkout_wrapper form#registerUser").on("submit",function(c){c.preventDefault(),a.each(a(".checkout_wrapper form#registerUser input"),function(){a(this).removeClass("error")}),a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"ajax_register",reg_name:a("form#registerUser #reg-name").val(),reg_email:a("form#registerUser #reg-email").val(),reg_password:a("form#registerUser #reg-pass").val(),confirm_reg_password:a("form#registerUser #confirm-reg-pass").val(),reg_fname:a("form#registerUser #reg-fname").val(),reg_lname:a("form#registerUser #reg-lname").val(),group_selected:a("form#registerUser #group_selected").val(),captcha:a("form#registerUser #captcha").val()},success:function(c){response=a.parseJSON(c),"success"==response.success?a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"ajaxlogin",username:a("form#registerUser #reg-name").val(),password:a("form#registerUser #reg-pass").val(),remember:!0},success:function(b){response=a.parseJSON(b),1==response.loggedin?window.location.reload():a("#login_message").html(response.message)}}):(a("#register_message").html(""),a.each(response,function(b,c){a("#register_message").append(c),a("#"+b).addClass("error")}))}})})},checkoutAjaxLogin:function(){a(".checkout_wrapper form#loginform").on("submit",function(c){c.preventDefault(),a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"ajaxlogin",username:a("form#loginform #user_login").val(),password:a("form#loginform #user_pass").val(),remember:a("form#loginform #rememberme").prop("checked")},success:function(c){response=a.parseJSON(c),1==response.loggedin?b.getUserDetail():a("#login_message").html(response.message)}})})},getUserDetail:function(){a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"get_user_checkout_detail"},success:function(b){a(".checkout_tab_content.user").replaceWith(b)}})},userValidInfo:function(){var b=[];return a.each(a(".user_billing_info input"),function(){0==a(this).val().length?b.push(a(this).attr("id")):a(this).removeClass("error")}),b},nextStep:function(){a(".next_btn").on("click",function(){button=a(this),a("#alreadyExist").remove(),a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"if_group_exists",ajax_text_id:a(".group_selected").serialize()},success:function(c){var d=a.parseJSON(c);"fail"==d.exist?a.each(d.groups,function(b,c){a("#group_selected-"+c).attr("value",""),a("#group_selected-"+c).after("<span class='error_message' id='alreadyExist'>Group is already exist</span>")}):a("#alreadyExist").remove();var e=b.userValidInfo();0==e.length?(button.parent().slideToggle("slow"),button.parent().parent().next().find(".checkout_tab_content").slideToggle("slow"),button.parent().parent().next().find("h1 i").removeClass("fa-caret-square-o-up").addClass("fa-caret-square-o-down"),button.parent().parent().next().find("h1").removeClass("not-active"),button.parent().prev().find("i").removeClass("fa-caret-square-o-down").addClass("fa-caret-square-o-up")):a.each(e,function(b,c){a("#"+c).addClass("error")})}})})},prevStep:function(){a(".prev_btn").on("click",function(){a(this).parent().slideToggle("slow"),a(this).parent().parent().prev().find(".checkout_tab_content").slideToggle("slow"),a(this).parent().parent().prev().find("h1 i").removeClass("fa-caret-square-o-up").addClass("fa-caret-square-o-down"),a(this).parent().parent().prev().find("h1").removeClass("not-active"),a(this).parent().prev().find("i").removeClass("fa-caret-square-o-down").addClass("fa-caret-square-o-up")})},payTest:function(){a(".pay_btn").on("click",function(){var c=[],d=[],e=a("#order_user_id").val(),f=a("#order_user_login").val(),g=a("#order_user_email").val(),h=a("#order_user_fname").val(),i=a("#order_user_lname").val(),j=a(".group_template").serialize(),k=a(".group_custom").serialize(),l=a("#payment_sys").val(),m=a("#"+l+" input").serialize();a.each(a(".products_input"),function(){c.push(a(this).val())}),a.each(a(".checkout_views"),function(){d.push(a(this).val())}),a("body").waiting({fixed:!0}),a.ajax({type:"POST",url:b.ajaxUrl,data:{action:"save_order",order_user_id:e,order_user_login:f,order_user_email:g,order_user_fname:h,order_user_lname:i,group_id:j,group_custom:k,product_id:c,product_views:d,order_status:"pending",payment:m},success:function(b){a(".waiting-container.overlay.fixed").remove(),a("body").removeClass("waiting"),result=a.parseJSON(b),1==result.status?(a("body").find("#thank_you").length>0?a("#thank_you").html(result.success):(a("body").append("<div id='thank_you'></div>"),a("#thank_you").html(result.success)),a("#thank_you").dialog({autoOpen:!1,modal:!0,dialogClass:"succeses_add_order fixed",show:{effect:"blind",duration:1e3},hide:{effect:"explode",duration:1e3}}),a("#thank_you").dialog("open")):a("body").find("#thank_you").length>0?a("#thank_you").html(result.error):(a("body").append("<div id='thank_you'></div>"),a("#thank_you").html(result.error)),a(".succeses_add_order .ui-dialog-titlebar-close").live("click",function(){window.location=location.protocol+"//"+location.host})}})})},init:function(){b.checkoutTabs(),b.updatePrice(),b.checkoutAjaxLogin(),b.checkoutAjaxRegistrantion(),b.nextStep(),b.prevStep(),b.payTest()}};b.init()}(jQuery),function(a){a(document).ready(function(){var b={toggleStep:function(){a(".step_numb i.hide").live("click",function(b){b.preventDefault();var c=a(this).data("step");a(".step-"+c).hide("slow"),a(this).removeClass("hide").addClass("show")}),a(".step_numb i.show").live("click",function(b){b.preventDefault();var c=a(this).data("step");a(".step-"+c).show("slow"),a(this).removeClass("show").addClass("hide")}),a(".questContent i.hide").live("click",function(b){a(this).parent().next().hide("slow"),a(this).removeClass("hide").addClass("show"),b.preventDefault()}),a(".questContent i.show").live("click",function(b){a(this).parent().next().show("slow"),a(this).removeClass("show").addClass("hide"),b.preventDefault()}),a(".video_part_title i.hide").live("click",function(b){a(this).parent().next().hide("slow"),a(this).removeClass("hide").addClass("show"),b.preventDefault()}),a(".video_part_title i.show").live("click",function(b){a(this).parent().next().show("slow"),a(this).removeClass("show").addClass("hide"),b.preventDefault()})},addStep:function(){a(".addStep").live("click",function(b){b.preventDefault();var c=parseInt(a(this).data("step")),d=c+1,e=a("#interaction_step_tpl").html(),f=e.replace(/{step}/g,d);a(".course_steps").append(f),a(".editor_wrap_step_"+d).wp_editor(),a(this).parent().remove()})},addVideoStep:function(){a(".AddStepVideo").live("click",function(b){b.preventDefault();var c=parseInt(a(this).data("step")),d=parseInt(a(this).data("video")),e=d+1,f=a("#interaction_video_step").html(),g=f.replace(/{video}/g,e).replace(/{step}/g,c);a(".video_data_wrapper_"+c).append(g),a(".video_descr_"+c+"_"+e).wp_editor(),a(this).parent().remove()})},addQuest:function(){var b="";a(".add_q").live("click",function(c){c.preventDefault(),a(this).hasClass("AddQuest")?b=a("#true_false_quest").html():a(this).hasClass("AddMultiple")?b=a("#multiple_quest").html():a(this).hasClass("AddImageQuest")&&(b=a("#image_quest").html());var d=parseInt(a(this).data("step")),e=parseInt(a(this).data("questnum")),f=e+1,g=b.replace(/{step}/g,d).replace(/{q_num}/g,f).replace(/{a_num}/g,1);a(".questContent-"+d).append(g),a(this).parent().find("a").data("questnum",f).attr("data-questnum",f),a("#step-"+d+"-quest-"+f).wp_editor()})},deleteVideo:function(){a(".video_part_title i.delete").live("click",function(b){b.preventDefault(),a(this).parent().next().remove(),a(this).parent().remove()})},deleteQuest:function(){a(".questContent i.delete").live("click",function(b){b.preventDefault(),a(this).parent().parent().remove()})},addAnswers:function(){a(".addAnswer").live("click",function(b){b.preventDefault();var c=parseInt(a(this).data("step")),d=parseInt(a(this).data("questnum")),e=parseInt(a(this).data("answer")),f=e+1,g=a("#multiple_answer").html(),h=g.replace(/{step}/g,c).replace(/{q_num}/g,d).replace(/{a_num}/g,f);a(".step-"+c+"-quest-"+d+"-answers").append(h),a(this).data("answer",f).attr("data-answer",f)}),a(".addAnswerImg").live("click",function(b){var c=parseInt(a(this).data("step")),d=parseInt(a(this).data("questnum")),e=parseInt(a(this).data("answer")),f=e+1,g=a("#image_quest_answer").html(),h=g.replace(/{step}/g,c).replace(/{q_num}/g,d).replace(/{a_num}/g,f);a(".step-"+c+"-quest-"+d+"-answers").append(h),a(this).data("answer",f).attr("data-answer",f)})},delAnswer:function(){a(".delAnswer").live("click",function(b){b.preventDefault(),a(this).parent().remove()})},selectTrue:function(){a(".select_true").live("click",function(){a(this).parent().parent().find(".answer_hidden").attr("value","false"),a(this).parent().find(".answer_hidden").attr("value","true"),a(this).parent().parent().find(".select_true").removeAttr("checked"),a(this).parent().parent().find(".select_true").removeAttr("required"),a(this).attr("checked",!0)})},initSteps:function(){a(".enable_disable .butt").live("click",function(){a(".enable_disable .butt").removeClass("active"),a(this).addClass("active"),a(this).hasClass("on")?(a(".init_interaction input").attr("checked",!0),a(".step_title").find("input").attr("required",!0)):(a(".init_interaction input").removeAttr("checked"),a(".step_title").find("input").removeAttr("required"))})},deleteStep:function(){a(".step_numb .delete").live("click",function(){a(this).parent().parent().remove()})},init:function(){b.toggleStep(),b.addStep(),b.addVideoStep(),b.addQuest(),b.deleteQuest(),b.deleteVideo(),b.addAnswers(),b.delAnswer(),b.selectTrue(),b.initSteps(),b.deleteStep()}};b.init()})}(jQuery),function(a){a(document).ready(function(){var b={createPostMatrix:function(){alert(JSON.stringify(a(".question-space").serialize()))},add_rem_quests:function(){a(function(){a(".add-question").live("click",function(){var b=parseInt(a(".question:last-child").attr("rel-id"))+1,c=a("#question-template").clone().attr("id","").css("display","block").appendTo(".question-space");return c.attr("rel-id",b),c.find("input.question-answer-radio").attr("name","answers["+b+"]").val("0"),c.find("input.question-answer").attr("name","questions["+b+"][0]"),c.find("input.question-title").attr("name","titles["+b+"]"),!1}),a(".remove-question").live("click",function(){return a(this).parent().remove(),!1}),a(".repeatable-add").live("click",function(){var b=a(this).parent().find("ul li:last-child").attr("rel-id");counter=Number(b)+1;var c=a(this).parent().find("ul li.original").clone().removeClass("original").appendTo(a(this).parent().find("ul"));return c.attr("rel-id",counter),c.find("input.question-answer-radio").attr("name","answers["+a(this).parent().attr("rel-id")+"]").val(counter),c.find("input.question-answer").val("").attr("name","questions["+a(this).parent().attr("rel-id")+"]["+counter+"]"),!1}),a(".repeatable-remove").live("click",function(){return a(this).parent().remove(),!1})})},videoAdd:function(){a(".add-attach-video").live("click",function(b){b.preventDefault();var c=parseInt(a(".add-attach-video").data("num")),d=c+1;a(this).remove();var e=a("#attach_video_add_tpl").html(),f=e.replace(/{numb}/g,c).replace(/{next}/g,d);a(".video_inputs").append(f)})},videoTypeChange:function(){a(".select_type_video div").live("click",function(b){b.preventDefault();var c=a(this).data("type");"url"==c?(a(this).parent().next().find(".lms_attach_video").attr("type","url"),a(this).addClass("active"),a(this).parent().find("div.file").removeClass("active")):(a(this).parent().next().find(".lms_attach_video").attr("type","file"),a(this).addClass("active"),a(this).parent().find("div.url").removeClass("active"))})},mediaFieldAdd:function(){a(".add-attach-media").live("click",function(b){b.preventDefault();var c=parseInt(a(".add-attach-media").data("num")),d=c+1;a(this).remove();var e=a("#attach_media_add_tpl").html(),f=e.replace(/{numb}/g,c).replace(/{next}/g,d);a("#media_section").append(f)})},certificateField:function(){a(".upload_image_button").click(function(){var b=wp.media.editor.send.attachment,c=a(this);return wp.media.editor.send.attachment=function(d,e){a(c).parent().prev().attr("src",e.url),a(c).prev().val(e.id),wp.media.editor.send.attachment=b,a("#img_thumb").show()},wp.media.editor.open(c),!1}),a(".remove_image_button").click(function(){var b=confirm("Delete this image?");if(1==b){var c=a(this).parent().prev().attr("data-src");a(this).parent().prev().attr("src",c),a(this).prev().prev().val(""),a("#img_thumb").hide()}return!1})},thumbnail:function(){a(".upload_thumbnail_button").click(function(){var b=wp.media.editor.send.attachment,c=a(this);return wp.media.editor.send.attachment=function(d,e){a(c).parent().prev().attr("src",e.url),a(c).prev().val(e.id),wp.media.editor.send.attachment=b,a("#image_thumb").show()},wp.media.editor.open(c),!1}),a(".remove_thumbnail_button").click(function(){var b=confirm("Delete this image?");if(1==b){var c=a(this).parent().prev().attr("data-src");a(this).parent().prev().attr("src",c),a(this).prev().prev().val(""),a("#image_thumb").hide()}return!1})},deleteVideo:function(){a(".delete-attach-video").click(function(b){b.preventDefault();var c=a(this).data("del");a("#video-"+c).remove();var d=a("#wp_custom_attachment .attach").find(".video_space");if(0==d.length){var e=a("#attach_video_new_tpl").html(),f=e.replace(/{numb}/g,0).replace(/{next}/g,1);a(".video_inputs .attach hr").before(f),a(".add-attach-video").attr("data-num","1")}})},deleteMedia:function(){a(".delete-attach-media").click(function(b){b.preventDefault();var c=a(this).data("del");a("#attached-"+c).remove();var d=a("#media_section").find(".lms_attach_media_files_contain");if(0==d.length){var e=a("#attach_media_new_tpl").html(),f=e.replace(/{numb}/g,0).replace(/{next}/g,1);a("#media_section hr").before(f),a(".add-attach-media").attr("data-num","1")}})},init:function(){b.add_rem_quests(),b.videoAdd(),b.videoTypeChange(),b.mediaFieldAdd(),b.certificateField(),b.thumbnail(),b.deleteVideo(),b.deleteMedia()}};b.init()})}(jQuery),function(a){a(document).ready(function(){var b={ajaxUrl:"/wp-admin/admin-ajax.php",searchUser:function(){a("#order_user_login").on("keyup",function(){var c=a(this).val();""!=c&&a.ajax({type:"GET",url:b.ajaxUrl,data:{action:"search_users",value:encodeURIComponent(c),order:!0},success:function(b){var c=a.parseJSON(b);a("#user_suggestions").html(""),a("#user_suggestions").fadeIn(),a.each(c,function(b,c){a("#user_suggestions").append('<li><a href="javascript:selectUser('+c.ID+", '"+c.user_login+"', '"+c.user_email+"', '"+c.first_name+"', '"+c.last_name+"');\">"+c.user_login+"</a></li>")})}})})},searchProduct:function(){a("#productName").on("keyup",function(){var c=a(this).val();""!=c&&a.ajax({type:"GET",url:b.ajaxUrl,data:{action:"search_products",value:encodeURIComponent(c),order:!0},success:function(b){var c=a.parseJSON(b);a("#autocomplete").html(""),a("#autocomplete").fadeIn(),a.each(c,function(b,c){a("#autocomplete").append('<li><a href="javascript:selectProduct('+c.ID+", '"+c.post_title+"', '"+c.price+"');\">"+c.post_title+"</a></li>")})}})})},addNew:function(){a("#add_new_product").on("click",function(){var b=a("#addItem").html(),c=a("#productName").val();if(!(c.length<1)){var d=parseInt(a("#productID").val());if(!(d.length<1)){var e=parseInt(a("#productViews").val());if(!(e.length<1)){var f=parseFloat(a("#priceContain").html()),g=a(".order_product_list").find(".product-"+d);if(0==g.length){var h=e*f,i=b.replace(/{views}/g,e).replace(/{id}/g,d).replace(/{title}/g,c).replace(/{price}/g,f.toFixed(2)).replace(/{subtotal}/g,h.toFixed(2));a("#addProduct").before(i)}else{var j=parseInt(g.find(".prod-view").val()),k=j+e,h=k*f;g.find(".prod-view").val(k),g.find(".ordered-views").html(k),g.find(".product-subtotal-price-active").html(h.toFixed(2))}a("#productName").val(""),a("#priceContain").html("0.00"),a("#subtotalContain").html("0.00"),
a("#productViews").val("1"),a("#productID").val("")}}}})},updateSubtotal:function(){a("#productViews").on("change",function(){var b=a(this).val(),c=a("#priceContain").html(),d=b*c;a("#subtotalContain").html(d.toFixed(2))})},removeProduct:function(){a(".fa-minus").live("click",function(){a(this).parent().parent().remove();var b=0;a.each(a(".product-subtotal-price-active"),function(){b+=parseFloat(a(this).html())}),a("#total_price").html(b.toFixed(2))})},updateTotal:function(){a("#add_new_product").on("click",function(){var b=0;a.each(a(".product-subtotal-price-active"),function(){b+=parseFloat(a(this).html())}),a("#total_price").html(b.toFixed(2))})},showStatus:function(){a(".status_wrapper i").mouseover(function(){a(this).parent().find("span").show()}),a(".status_wrapper i").mouseout(function(){a(this).parent().find("span").hide()})},init:function(){b.searchUser(),b.searchProduct(),b.updateSubtotal(),b.removeProduct(),b.addNew(),b.updateTotal(),b.showStatus()}};b.init()})}(jQuery),jQuery(document).ready(function(a){jQuery(document).click(function(){jQuery("#test_suggestions").fadeOut(),jQuery("#user_suggestions").fadeOut(),jQuery("#courses_suggestions").fadeOut(),jQuery("#group_suggestions").fadeOut()}),jQuery(".copy_group").live("click",function(b){b.preventDefault();var c=a(this).data("id");a.ajax({type:"GET",url:ajaxurl,data:{action:"copy_group",value:encodeURIComponent(c)},success:function(a){var b=jQuery.parseJSON(a);"success"==b.result?alert("Copied!!!"):alert("Error: Can't copy this group!!!")}})}),a(".view_group_reports").live("click",function(b){b.preventDefault();var c=[a(this).data("id")];a("#report_modal").dialog({autoOpen:!1,modal:!0,dialogClass:"fixed-dialog",show:{effect:"blind",duration:1e3},hide:{effect:"explode",duration:1e3}}),a("#report_modal").dialog("open"),a.ajax({type:"POST",url:ajaxurl,data:{action:"get_reports_group_report",data_value:c,attempts:"false",hits:"false",day_from:"0001-01-01",day_to:"9999-01-01"},success:function(b){a("#results_table").html("");var c=a("#results_template").html(),d=a.parseJSON(b);d&&a.each(d,function(b,d){a.each(d,function(b,d){var e=c.replace(/{num}/g,d.num?d.num:"-").replace(/{first_name}/g,d.first_name?d.first_name:"-").replace(/{last_name}/g,d.last_name?d.last_name:"").replace(/{post_title}/g,d.post_title?d.post_title:"no-name").replace(/{score}/g,d.score?d.score:"-").replace(/{symbol}/g,d.symbol?d.symbol:"-").replace(/{time}/g,d.time?d.time:"-").replace(/{date_hits}/g,d.date_hits?d.date_hits:d.time).replace(/{attempts}/g,d.attempts?d.attempts:"0").replace(/{attempts_limit}/g,d.attempts_limit?d.attempts_limit:"0").replace(/{hits}/g,d.hits?d.hits:d.attempts).replace(/{hits_limit}/g,d.hits_limit?d.hits_limit:"0").replace(/{lms_interaction_date}/g,d.lms_interaction_date?d.lms_interaction_date:"-").replace(/{due}/g,d.due?d.due:"-");a("#results_table").append(e)})})}})})}),function(a){a(document).ready(function(){var b={button:a(".add-new-group.add"),saveProduct:function(){b.button.on("click",function(){var b=a("#groupProduct").serialize();a.ajax({type:"POST",url:ajaxurl,data:{action:"save_product_group",data_value:b},success:function(a){window.location="admin.php?page=lms_product_groups_edit&group="+a}})})},deleteGroup:function(){a(".deleteProductGroup").on("click",function(){var b=parseInt(a(this).data("id"));a(this).parents().eq(2).remove(),a.ajax({type:"POST",url:ajaxurl,data:{action:"delete_product_group",id:b},success:function(a){console.log("response ",a)}})})},init:function(){b.saveProduct(),b.deleteGroup()}};b.init()})}(jQuery),function(a){a(document).ready(function(){var b={changeReportType:function(){a(".selector_item").on("click",function(){var b=a(this).data("type");a(".selector_item").removeClass("active"),a(this).addClass("active"),a(".report-type").removeClass("active"),a("#"+b).addClass("active"),a("#current_report").attr("value",b)})},searchGroupReports:function(){a("#groups_search").on("keyup",function(){var b=a("#groups_search").val();a.ajax({type:"GET",url:ajaxurl,data:{action:"search_groups_report",value:encodeURIComponent(b)},success:function(b){if(null!=b){var c=a.parseJSON(b);null!=c&&(a("#group_suggestions").html(""),a("#group_suggestions").fadeIn(),a.each(c,function(b,c){a("#group_suggestions").append('<li><a href="javascript:addGroup('+c.group_id+", '"+c.name+"');\">"+c.name+"</a></li>")}))}}})})},searchTestReports:function(){a("#tests_search").on("keyup",function(){var b=a("#tests_search").val();a.ajax({type:"GET",url:ajaxurl,data:{action:"search_tests_report",value:encodeURIComponent(b)},success:function(b){if(null!=b){var c=a.parseJSON(b);null!=c&&(a("#test_suggestions").html(""),a("#test_suggestions").fadeIn(),a.each(c,function(b,c){a("#test_suggestions").append('<li><a href="javascript:addTest('+c.ID+", '"+c.post_title+"');\">"+c.post_title+"</a></li>")}))}}})})},searchUserReports:function(){a("#users_search").on("keyup",function(){var b=a("#users_search").val();a.ajax({type:"GET",url:ajaxurl,data:{action:"search_users_report",value:encodeURIComponent(b)},success:function(b){if(null!=b){var c=a.parseJSON(b);null!=c&&(a("#user_suggestions").html(""),a("#user_suggestions").fadeIn(),a.each(c,function(b,c){a("#user_suggestions").append('<li><a href="javascript:addUser('+c.ID+", '"+c.user_login+"');\">"+c.user_login+"</a></li>")}))}}})})},getReports:function(){a("#generate_reports").on("click",function(){var b=[],c="",d=a("#current_report").val();if(a("#attempts").prop("checked"))var e="true";else var e="false";if(a("#hits").prop("checked"))var f="true";else var f="false";var g=a("#day_from").val(),h=a("#day_to").val();switch(""==g&&(g="0001-01-01"),""==h&&(h="9999-01-01"),d){case"group_report":c=a("#selected_groups tbody").find("tr");break;case"user_report":c=a("#selected_users tbody").find("tr");break;case"test_report":c=a("#selected_tests tbody").find("tr");break;default:return}c.length>0&&a.each(c,function(a,d){b.push(c.eq(a).data("id"))}),a.ajax({type:"POST",url:ajaxurl,data:{action:"get_reports_"+d,data_value:b,attempts:e,hits:f,day_from:g,day_to:h},success:function(b){a("#results_table").html("");var c=a("#results_template").html(),d=a.parseJSON(b);d&&a.each(d,function(b,d){a.each(d,function(b,d){var e=c.replace(/{num}/g,d.num?d.num:"-").replace(/{first_name}/g,d.first_name?d.first_name:"-").replace(/{last_name}/g,d.last_name?d.last_name:"").replace(/{post_title}/g,d.post_title?d.post_title:"no-name").replace(/{score}/g,d.score?d.score:"-").replace(/{symbol}/g,d.symbol?d.symbol:"-").replace(/{time}/g,d.time?d.time:"-").replace(/{date_hits}/g,d.date_hits?d.date_hits:d.time).replace(/{attempts}/g,d.attempts?d.attempts:"0").replace(/{attempts_limit}/g,d.attempts_limit?d.attempts_limit:"0").replace(/{hits}/g,d.hits?d.hits:d.attempts).replace(/{hits_limit}/g,d.hits_limit?d.hits_limit:"0").replace(/{lms_interaction_date}/g,d.lms_interaction_date?d.lms_interaction_date:"-").replace(/{due}/g,d.due?d.due:"-");a("#results_table").append(e)})})}})})},getUserReports:function(){a("#generate_user_reports").on("click",function(){var b=[a(this).data("user")];if(a("#attempts").prop("checked"))var c="true";else var c="false";if(a("#hits").prop("checked"))var d="true";else var d="false";var e=a("#day_from").val(),f=a("#day_to").val();""==e&&(e="0001-01-01"),""==f&&(f="9999-01-01"),a.ajax({type:"POST",url:ajaxurl,data:{action:"get_reports_user_report",data_value:b,attempts:c,hits:d,day_from:e,day_to:f},success:function(b){a("#results_table").html("");var c=a("#results_template").html(),d=a.parseJSON(b);d&&a.each(d,function(b,d){a.each(d,function(b,d){var e=c.replace(/{num}/g,d.num?d.num:"-").replace(/{first_name}/g,d.first_name?d.first_name:"-").replace(/{last_name}/g,d.last_name?d.last_name:"").replace(/{post_title}/g,d.post_title?d.post_title:"no-name").replace(/{score}/g,d.score?d.score:"-").replace(/{symbol}/g,d.symbol?d.symbol:"-").replace(/{time}/g,d.time?d.time:"-").replace(/{date_hits}/g,d.date_hits?d.date_hits:d.time).replace(/{attempts}/g,d.attempts?d.attempts:"0").replace(/{attempts_limit}/g,d.attempts_limit?d.attempts_limit:"0").replace(/{hits}/g,d.hits?d.hits:d.attempts).replace(/{hits_limit}/g,d.hits_limit?d.hits_limit:"0").replace(/{lms_interaction_date}/g,d.lms_interaction_date?d.lms_interaction_date:"-").replace(/{due}/g,d.due?d.due:"-");a("#results_table").append(e)})})}})})},init:function(){b.changeReportType(),b.searchGroupReports(),b.searchTestReports(),b.searchUserReports(),b.getReports(),b.getUserReports()}};b.init()})}(jQuery);